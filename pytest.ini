[pytest]
testpaths = tests
python_files = test_*.py
python_classes = Test*
python_functions = test_*
addopts = 
    -v
    --tb=short
    --strict-markers
    --color=yes
    --durations=10
filterwarnings =
    ignore:builtin type SwigPyPacked has no __module__ attribute:DeprecationWarning
    ignore:builtin type SwigPyObject has no __module__ attribute:DeprecationWarning
    ignore:builtin type swigvarlink has no __module__ attribute:DeprecationWarning
    ignore::PendingDeprecationWarning
markers =
    unit: Unit tests - fast, isolated component tests
    integration: Integration tests - test component interactions  
    algorithm: Algorithm-specific tests (GSPO, GRPO, etc.)
    reward: Reward system tests
    slow: Slow running tests (>1 second)
    requires_model: Tests that need a loaded model
    requires_moe_model: Tests that need a loaded MoE model (e.g. Trinity-Nano-Preview)
    apple_silicon: Tests optimized for Apple Silicon/MLX
    regression: Exact-output regression tests for optimization safety
